---
layout:     post
title:      "工作流服务设计"
date:       "2024-04-26 15:13:00"
author:     "Vincent"
image:  "/img/leaf.jpg"
catalog: true
tags:
    - workflow
    - java
---

# 背景

企业和政府工作中很多业务都涉及到审批流或者工作流，在审批流或者工作流中完成各个部门的工作协调，任务指派，进度跟踪，公司现有审批设计的比较烂，计划重新进行审批的设计实现。目标覆盖OA审批和政府垮部门的工作流服务。


# 功能设计

>
> 审批人： 值审批任务指定的 人员，审批组，部门，角色
> 当审批人是 部门或角色时，部门和角色中任一符合条件的人通过则表示此审批人通过，拒绝则表示该审批人拒绝
>

## 会签

同一个审批节点中的所有审批人同意则该节点同意。若任意一个审批人不同意则该审批节点不通过，整个审批流程结束。

## 依次审批

节点通过条件和会签类似，但是审批人必须按照指定的顺序依次进行审批

## 或签
节点指定的审批人中的一个通过或拒绝审批

## 自动通过

节点自动设置为通过审批

## 自动拒绝

节点设置为自动拒绝审批

## 回退
将审批流退回到指定节点重新执行

## 撤回
撤销当前审批人的同意。审批节点根据请款进行等待。

## 加签
增加节点审批人，必须加签人员同意后该节点才通过

## 转交
将转交人的审批权限交与指定的人员处理。

## 去重
同一个审批人，出现在多个审批环节时，若选择前置去重，则将其设置在最后一个需要审批的环节中进行一次审批；选择后置去重，则会将其设置在需要审批的第一个环节。

##  子流程
在审批到达节点时启动一个子审批，子审批通过后才能继续该审批。

## 任务节点

#### 办理节点

任务节点任务完成后即通过审批，没有拒绝。通常用于指定某人补充数据或者进行任务的执行。办理某项事务。

#### 抄送节点
将审批信息发送给某人。

#### 回调节点
用于对其他业务系统进行数据通知等





